<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hd.dao.StudentDao">
	<select id="query" resultType="com.hd.model.Student">
		select * from student 
		<where>
			 <if test="name != null and name!=''">
				and name like #{name}
			 </if>
			 <if test="xueke !=''and xueke !=null">
				and xueke like  #{xueke}
			 </if>
			<if test="age1 !=''and age1 !=null and age2 !=''and age2 !=null">				
					and  age between #{age1} and #{age2}
			</if>
			<if test="age1 !=''and age1 !=null and (age2 ==''or age2 ==null)">
				and age =  #{age1}				
			</if>
		 </where>	
	</select>
	<select id="se" resultType="com.hd.model.Student" parameterType="java.util.Map">
		select * from student 
		<where>
			<if test="stuname != null and stuname!=''">
				and name = #{stuname}
			</if>
			<if test="subjectname !=''and subjectname !=null">
				and xueke =  #{subjectname}
			</if>
			<if test="conditional !=''and conditional !=null">
				and ${conditional}
			</if>
			<if test="pageIndex!=null and pageSize!=null and pageIndex!='' and pageSize!=''">
		 		limit #{pageIndex},#{pageSize}
			</if> 
		</where>
	</select>
	<select id="count" resultType="int" parameterType="java.util.Map">
		select count(1) from student 
		<where>
			<if test="stuname != null and stuname!=''">
				and name = #{stuname}
			</if>
			<if test="subjectname !=''and subjectname !=null">
				and xueke =  #{subjectname}
			</if>
			<if test="conditional !=''and conditional !=null">
				and ${conditional}
			</if>
		</where>
	</select>
</mapper>